import{d as V,u as k,r as E,aa as U,c as x,a as o,o as y,e,h as v,b_ as w,E as C}from"./index-BrK2nRcc.js";import{E as B,a as F}from"./el-form-item-CqkGd93q.js";import{E as I}from"./_plugin-vue_export-helper-CHYzevpX.js";import{E as P}from"./el-input-DGwWbuLA.js";import{P as S}from"./PageContainer-DLmR2O10.js";import"./el-message-Kc6R7lWJ.js";const A=V({__name:"UserProfile",setup(q){const s=k(),n=E(),{username:i,nickname:d,email:p,id:c}=s.user,a=U({username:i,nickname:d,email:p,id:c}),f={nickname:[{required:!0,message:"请输入昵称",trigger:"blur"},{min:2,max:10,message:"昵称长度在2-10个字符之间",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"邮箱格式不正确",trigger:["blur","change"]}]},_=async()=>{await n.value.validate();const u=await w(a);console.log(u),s.getUser(),C.success("修改成功")};return(u,l)=>{const m=P,r=B,g=I,b=F;return y(),x(S,{title:"基本资料"},{default:o(()=>[e(b,{ref_key:"formRef",ref:n,model:a,rules:f,"label-width":"100px"},{default:o(()=>[e(r,{label:"登录名称"},{default:o(()=>[e(m,{modelValue:a.username,"onUpdate:modelValue":l[0]||(l[0]=t=>a.username=t),disabled:""},null,8,["modelValue"])]),_:1}),e(r,{label:"用户昵称",prop:"nickname"},{default:o(()=>[e(m,{modelValue:a.nickname,"onUpdate:modelValue":l[1]||(l[1]=t=>a.nickname=t)},null,8,["modelValue"])]),_:1}),e(r,{label:"用户邮箱",prop:"email"},{default:o(()=>[e(m,{modelValue:a.email,"onUpdate:modelValue":l[2]||(l[2]=t=>a.email=t)},null,8,["modelValue"])]),_:1}),e(r,null,{default:o(()=>[e(g,{type:"primary",onClick:_},{default:o(()=>[v("提交修改")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})}}});export{A as default};
